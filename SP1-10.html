









<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Using media queries and grid CSS to reflow columns</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    
    <style>

    /* Reflow Styling */
    header[role="banner"]       { grid-area: header; }
    nav[role="navigation"]       { grid-area: nav; }
    main[role="main"]           { grid-area: main; }
    middle[role="middle"]      { grid-area: middle; }
    footer[role="contentinfo"]  { grid-area: footer; }

    .grid,
    .subgrid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
    }

    .grid {
      grid-template-areas:
      'header'
       'nav'
      'main'
      'middle'
      'footer';
      width: 100%;
    }

    .subgrid {
      width: calc(100% + 2rem);
      margin: 0 -0rem;
    }

    .grid-item,
    .subgrid-item {
      padding: 0rem;
    }

    @media all and (min-width: 576px) {
      .subgrid {
        grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
        margin-bottom: 0rem;
      }
      
    }

    @media all and (min-width: 992px) { 
      .grid {
        grid-template-areas:
          'header header header header'
          'nav nav nav nav'
          'main main middle middle'
          'footer footer footer footer';
        grid-template-columns: minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr) minmax(0, 1fr);
      }
    }

    /* Content Styling */

    html {
      box-sizing: border-box;
    }

    *,
    *::before,
    *::after {
      box-sizing: inherit;
    }

    body {
      font-family: Noto Sans,Trebuchet MS,Helvetica Neue,Arial,sans-serif;
      background-color: #5BB179;
      margin: 0;
    }

/* Start For Header*/
    header[role="banner"] {
      background-color: #4A8860;
      margin-top: 1rem;
      border:2.5px solid black;border-radius: 2px;
    }
    
    header h1 {
      font-size: 25px;
      width:70%;
      text-transform:uppercase;
      color: #D0E9D9;
      word-wrap: break-word;
      text-decoration:underline;
      text-shadow:1px 1px #A1D3B2;}
      
    header h2 {
      font-size: 15px;
      text-transform:lowercase;
      color: #E8F4EC;
      text-decoration: underline overline;
      float:right;
      line-height:0px;}
      
   header p {
   		font-size:15px;
        width:70%;
 		 color: solid black;
  	float:left;
  	text-transform:lowercase;
  	line-height:0px;
  	text-transform:uppercase;
	}
   

    .logo {
      width: 90px;
      vertical-align: middle;
      float:right;
      margin: 0 .5rem 1rem 0;
    }
/* End For Header*/     

      
   
      
/* Start For main*/
       main[role="main"] {
       background-color: #D0E9D9;
      margin-top: 0.5rem;
      height: 500px;
      width: 100%;    
    }
      
     

/* End For main*/
/* Start For middle*/
    middle[role="middle"] {
      background-color: #D0E9D9;
      overflow-y:scroll;
      margin-top: 0.5rem;
      height: 500px;
      width: 100%; 
    }
      

   
/* End For middle*/

/* Start For footer*/
      
  footer[role="contentinfo"] {
      color: #ffffff;
      background-color: #3b3b3b;
    }

    footer h2 {
      color: #ffffff;
    }
      
/* End For footer*/


    </style>

  </head>

  <body class="grid">

    <header role="banner" class="grid-item">
    <h1>Geotechnical Instruments Online Data Presentation Tool</h1> 
     <a href="https://w3.org/"><img alt="W3C" class="logo"      src="https://www.w3.org/WAI/assets/images/w3c.svg"></a>
     <p>By P.Sharma</p>
     <h2>Keep Monitoring</h2>
     </header>
    
    <nav role="navigation" class="grid-item">
      <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
  <div class="container-fluid">
    <span class="navbar-brand mb-0 h1">StandPipe Piezometer</span>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Change Number</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Change 11-20</a></li>
            <li><a class="dropdown-item" href="#">Change 21-30</a></li>
             </ul>
        </li>  
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Change Instrument Type</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://monushar.github.io/instrumentation/GSM1-10.html">Surface Settlement Marker</a></li>
             <li><a class="dropdown-item" href="https://monushar.github.io/instrumentation/BSM1-10.html">Building Settlement Marker</a></li>
            <li><a class="dropdown-item" href="https://monushar.github.io/instrumentation/SG1-10.html">Strain Gauge</a></li>
           
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
</nav>

    
    
    <main role="main" class="grid-item">  


<script  src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@0.7.3"></script>
 

 <style>
canvas{

  height:450px !important;

}
</style> 
  
  <div class="chart-container" style="position: relative"> 
         <canvas id="mycanvas"></canvas> 
      </div> 
<script>
  
  
  getData();
   async function getData() {
      const response = await fetch('https://script.google.com/macros/s/AKfycbwVj7a5VW-2yQ4BQGr2uhPSWJLY2ZLFgfLVrCmpkISLiF8gAZWOf9-hAcuY8v_f8WN8Lw/exec');
      const data = await response.json();
      console.log(data);
      length = data.length;
      console.log(length);
      labels = []; 
     v1 = []; v2 = []; v3 = [];v4 = [];v5 = [];v6 = [];
     v7 = [];v8 = [];v9 = [];v10 = []; v11 = []; v12 = [];
      
      for (i = 0; i < length; i++) {
         labels.push(data[i].Pravin);
         v1.push(data[i].SP1_C);v2.push(data[i].SP2_C);
        v3.push(data[i].SP3_C);v4.push(data[i].SP4_C);
        v5.push(data[i].SP5_C);
         
      }
      var canvas = document.getElementById("mycanvas");
      var myLineChart = Chart.Line(canvas,{
         type: 'line',
         data: {
            labels: labels,
            datasets: [
               {label: "SP1", data: v1,backgroundColor: ["rgba(246, 71, 64, 0.0",],
               borderColor: ["#3498db"],borderWidth: 3,fill: true},
              {label: "SP2", data: v2,backgroundColor: ["rgba(246, 71, 64, 0.0",],
               borderColor: ["#3498db"],borderWidth: 1,fill: true},
              {label: "SP3", data: v3,backgroundColor: ["rgba(246, 71, 64, 0.0",],
               borderColor: ["#3498db"],borderWidth: 1,fill: true},
              {label: "SP4", data: v4,backgroundColor: ["rgba(246, 71, 64, 0.0",],
               borderColor: ["#3498db"],borderWidth: 1,fill: true},
              {label: "SP5", data: v4,backgroundColor: ["rgba(246, 71, 64, 0.0",],
               borderColor: ["#3498db"],borderWidth: 1,fill: true},
            ]
         },
         options: {
            responsive: true,
            maintainAspectRatio: false,
            showTooltips: true,
            legend: { 
                      labels: {
                      boxWidth: 2
                      },
                      display: true,
                      position: "right",
                      maxWidth: 100},
            title: {
               display: true,
               text: 'U.S population'
            },
           pan: {
            // Boolean to enable panning
            enabled: true,

            // Panning directions. Remove the appropriate direction to disable 
            // Eg. 'y' would only allow panning in the y direction
            mode: 'x',
            
            speed: 10,
      threshold: 10
        },

        // Container for zoom options
        zoom: {
            // Boolean to enable zooming
            enabled: true,						
            // Zooming directions. Remove the appropriate direction to disable 
            // Eg. 'y' would only allow zooming in the y direction
            mode: 'y',
        }
         }
      });
     
     
     myChart.update();
   }
  setInterval(getData, 10000);
  
  
</script>
</main>
    
    <middle role="middle" class="grid-item">    
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<link href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css" rel="stylesheet">
<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>
<link href="https://unpkg.com/ionicons@4.5.5/dist/css/ionicons.min.css" rel="stylesheet">
<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/auto-refresh/bootstrap-table-auto-refresh.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/tableExport.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF/jspdf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/export/bootstrap-table-export.min.js"></script>

<style>
#toolbar {
  margin: 0;
}
</style>

<div id="toolbar">
  
</div>



  
<div class="table-responsive text-nowrap">
<table id="table" 
data-toggle="table"
data-ajax="ajaxRequest"
data-height="100%"
data-show-export="true"
data-show-columns="true"
data-show-refresh="true"
data-pagination="true" 
data-page-size="7"       
data-icons-prefix="icon"
data-icons="icons"
>
  

  
  

  <thead class="table-dark">
    <tr>
      <th data-field="Pravin"  scope="col">Date</th>
      <th data-field="SP1" scope="col">SP1</th>
      <th data-field="SP1_C" scope="col">Change</th>
      <th data-field="SP2" scope="col">SP2</th>
      <th data-field="SP2_C" scope="col">Change</th>
      <th data-field="SP3" scope="col">SP3</th>
      <th data-field="SP3_C" scope="col">Change</th>
      <th data-field="SP4" scope="col">SP4</th>
      <th data-field="SP4_C" scope="col">Change</th>
      <th data-field="SP5" scope="col">SP5</th>
      <th data-field="SP5_C" scope="col">Change</th>
      
    
    </tr>
  </thead>

</table>
      </div>
<script>

// your custom ajax request here
function ajaxRequest(params) {
  var url = 'https://script.google.com/macros/s/AKfycbwVj7a5VW-2yQ4BQGr2uhPSWJLY2ZLFgfLVrCmpkISLiF8gAZWOf9-hAcuY8v_f8WN8Lw/exec'
  $.get(url + '?' + $.param(params.data)).then(function(res) {
    
    // format the response here
    const formattedRes = res.map(o => {
      return {
        ...o,
        title: {
          displayText: o.title
        }
      }
    });

    params.success(formattedRes);
  })
}

(function(){
    function refreshTable() {$('#table').bootstrapTable('refresh', {silent: true});}
    setInterval(refreshTable, 5000);
})()
  
  window.icons = {
    columns: 'ion-md-menu',
    refresh: 'ion-md-refresh',
    export: 'ion-md-download',
    
    }
  
  var $table = $('#table')

  $(function() {
    $('#toolbar').change(function () {
      $table.bootstrapTable('destroy').bootstrapTable({
        exportDataType: $(this).val(),
        exportTypes: ['csv', 'txt', 'excel', 'pdf'],
        columns: [
        ]
      })
    }).trigger('change')
  })
  
 
  
  
</script>
    </middle>
    
    <footer role="contentinfo" class="grid-item">
      <h2>Footer</h2>
      <p>Copyright © 2018 W3C <sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
        <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>) <a href="/Consortium/Legal/ipr-notice">Usage policies apply</a>.
      </p>
    </footer>
    
    
